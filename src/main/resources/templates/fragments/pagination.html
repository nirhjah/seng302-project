<!--
    This is used to render a page "swapper" to navigate through pages.
    Useful for navigating through table data.

    IMPORTANT NOTE:
    When using this fragment, the following variables MUST be defined:

    pageName : String,   The endpoint of the view page, e.g. "view-users"
    page : int,  The page number currently active
    totalPages : int,  The total number of pages in the pagination object.
-->
<div th:fragment="pagination(pageName, page, totalPages)" class="pagination">
    <script>
        function gotoPage(pageNum) {
            const url = new URL(document.location.href);
            url.searchParams.set('page', pageNum);
            window.location.href = url.toString();
        }
    </script>

    <div class="paginationContainer">
        <div class="totalPages">
            Total Pages: [[${totalPages}]]
        </div>

        <button th:unless="${page == 1}" class = "paginationButton" th:disabled="${page == 1}" th:onclick="|gotoPage(1)|">
            <span>&leftarrow; First</span>
        </button>
        <button th:unless="${page == 1}" class = "paginationButton" th:disabled="${page == 1}" >
            <span>&leftarrow; Prev</span>
        </button>

        <button th:unless="${(page - 1) <= 0}" class="paginationActive" th:text="${page - 1}" th:onclick="|gotoPage(${page - 1})|"></button>
        <button th:unless="${totalPages == 0}" class="paginationActive" th:text="${page}"></button>
        <button th:unless="${(page + 1) > totalPages}" th:onclick="|gotoPage(${page + 1})|" class="paginationActive" th:text="${page+1}"></button>

        <button th:unless="${page == totalPages}" th:onclick="|gotoPage(${page + 1})|" class="paginationButton">
            Next &rightarrow;
        </button>

        <button th:unless="${page == totalPages}" class="paginationButton" th:disabled="${page == totalPages}"  th:onclick="|gotoPage(${totalPages})|">
            Last &rightarrow;
        </button>
    </div>
</div>